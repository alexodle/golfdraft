(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+VUm":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NHOLES:18,NDAYS:4,NGOLFERS:4,NSCORES_PER_DAY:2,MISSED_CUT:"MC",UNKNOWN_WGR:Number.MAX_VALUE,ABSENT_PICK_NTH_BEST_WGR:7,TOURNEY_ID_PARAM:":tourneyId([0-9a-f]{24})"}},0:function(e,t){},"0CtO":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("TSYQ"),r=s("q1tI"),l=s("JbMJ"),i=s("+VUm");t.default=class extends r.Component{constructor(){super(...arguments),this._onSelect=(e=>{this.props.onUserSelected(e)})}render(){const{pickingForUsers:e,currentPick:t,currentUser:s,autoPickUsers:c}=this.props,o=s._id,u=n.take(this.props.pickOrder,this.props.pickOrder.length/i.default.NGOLFERS);return r.createElement("div",null,r.createElement("p",null,r.createElement("small",null,r.createElement("b",null,"Tip:")," your are picking for all users in bold")),r.createElement("p",null,r.createElement("small",null,r.createElement("b",null,"Pro Tip:")," click on a user to see their picks")),r.createElement("ol",{className:"pick-order-list"},n.map(u,(s,i)=>r.createElement("li",{key:s.user,className:a({"my-user":o===s.user||n.includes(e,s.user),"current-user":t.user===s.user})},c[s.user]?r.createElement("span",null,r.createElement("span",{className:"label label-success auto-label"},"AUTO")," "):null,r.createElement("a",{href:"#DraftHistory",onClick:n.partial(this._onSelect,s.user)},l.default.getUser(s.user).name)))))}}},"0blL":function(e,t,s){},"0hMU":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CREATE_MESSAGE:"CREATE_MESSAGE",NEW_MESSAGE:"NEW_MESSAGE",SET_MESSAGES:"SET_MESSAGES"}},"22qP":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("2wj6"),a=s("JbMJ"),r=s("q1tI");t.default=class extends r.Component{constructor(){super(...arguments),this._onTakePick=(e=>{e.preventDefault(),n.default.draftForUser(this.props.currentPick.user)})}render(){const e=this.props.currentPick,t=a.default.getUser(e.user).name;return r.createElement("div",null,r.createElement("p",{className:"draft-status"},"Now drafting (Pick #",e.pickNumber+1,"): ",r.createElement("b",null,t)),r.createElement("a",{href:"#",onClick:this._onTakePick},"I'll pick for ",t))}}},"2re4":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("q1tI"),r=s("2wj6"),l=s("6fkD"),i=s("P0hV"),c=s("brYj");t.default=class extends a.Component{constructor(e){super(e),this._onUpOne=((e,t)=>{t.preventDefault();const s=this._newOrder(e,e-1);r.default.updatePendingPickList(s)}),this._onDownOne=((e,t)=>{t.preventDefault();const s=this._newOrder(e,e+1);r.default.updatePendingPickList(s)}),this._onReset=(()=>{r.default.resetPendingPickList()}),this._onSave=(()=>{r.default.savePickList()}),this._onDrop=((e,t)=>{t.preventDefault();const s=this.state.draggingIndex,n=this._newOrder(s,e);r.default.updatePendingPickList(n)}),this._onDragStart=((e,t)=>{this.setState({draggingIndex:e})}),this._onDragEnd=(e=>{this.setState({draggingIndex:null,draggingHoverIndex:null})}),this._onDragOver=((e,t)=>{t.preventDefault(),this.state.draggingHoverIndex!==e&&this.setState({draggingHoverIndex:e})}),this._onFreeTextClick=(()=>{this.setState({isFreeTextMode:!0}),window.location.href="#InlinePickListEditor"}),this._onFreeTextComplete=(()=>{this.setState({isFreeTextMode:!1}),window.location.href="#InlinePickListEditor"}),this.state={draggingIndex:null,draggingHoverIndex:null,isFreeTextMode:!1}}render(){if(!n.isArray(this.props.syncedPickList))return this._renderLoading();const e=!n.isEmpty(this.props.pendingPickList);if(this.state.isFreeTextMode||!e)return a.createElement(l.default,{onCancel:e?this._onFreeTextComplete:null,onComplete:this._onFreeTextComplete});let t=this.props.pendingPickList;const s=this.state.draggingIndex,r=this.state.draggingHoverIndex,o=this.props.syncedPickList!==this.props.pendingPickList,u=this.props.preDraftMode,d=n.isNumber(s)?t[s]:null;return n.isNumber(r)&&(t=this._newOrder(s,r)),a.createElement("section",null,a.createElement("div",{className:"row",style:{marginBottom:"1em"}},a.createElement("div",{className:"col-md-12"},u?a.createElement("span",null,a.createElement("button",{className:"btn btn-default",disabled:o,type:"button",onClick:this._onFreeTextClick},"Paste list")):null,a.createElement("span",{className:"pull-right"},a.createElement("button",{className:"btn btn-default",disabled:!o,type:"button",onClick:this._onReset},"Reset"),a.createElement("span",null," "),a.createElement("button",{className:"btn btn-default btn-primary",disabled:!o,type:"button",onClick:this._onSave},"Save")),o?a.createElement("p",null,a.createElement("small",null,"* Unsaved changes")):null)),a.createElement("div",{className:"row",style:{height:this.props.height||"100%",overflowY:"scroll"}},a.createElement("div",{className:"col-md-12"},a.createElement("table",{className:"table table-condensed table-striped"},a.createElement("thead",null),a.createElement("tbody",null,n.map(t,(e,s)=>{const n=c.default.getGolfer(e);return a.createElement("tr",{key:n._id,className:d&&d===n._id?"info":""},a.createElement("td",{draggable:!0,onDragStart:this._onDragStart.bind(this,s),onDrop:this._onDrop.bind(this,s),onDragEnd:this._onDragEnd,onDragOver:this._onDragOver.bind(this,s)},a.createElement("span",{className:"hidden-xs"},a.createElement("span",{className:"hidden-xs glyphicon glyphicon-menu-hamburger text-muted"}),"  ",s+1,".  ",i.default.renderGolfer(n)),a.createElement("span",{className:"visible-xs"},this._renderArrowLink("glyphicon-arrow-up",this._onUpOne.bind(this,s),0===s),a.createElement("span",null," "),this._renderArrowLink("glyphicon-arrow-down",this._onDownOne.bind(this,s),s+1===t.length),"  ",s+1,".  ",i.default.renderGolfer(n))))}))))))}_renderArrowLink(e,t,s){return s?a.createElement("span",{className:"text-muted glyphicon "+e}):a.createElement("a",{href:"#",onClick:t},a.createElement("span",{className:"glyphicon "+e}))}_renderLoading(){return a.createElement("span",null,"Loading...")}_newOrder(e,t){const s=this.props.pendingPickList,n=s[e],a=s.slice();return a.splice(e,1),a.splice(t,0,n),a}}},"2wj6":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Et/P"),a=s("LeqY");t.default=class{static makePick(e){n.default.handleViewAction({actionType:a.default.DRAFT_PICK,golfer:e})}static makePickListPick(){n.default.handleViewAction({actionType:a.default.DRAFT_PICK_HIGHEST_PRI})}static draftUpdate(e){n.default.handleServerAction({actionType:a.default.DRAFT_UPDATE,draft:e})}static draftForUser(e){n.default.handleViewAction({actionType:a.default.DRAFT_FOR_USER,user:e})}static stopDraftingForUser(e){n.default.handleViewAction({actionType:a.default.STOP_DRAFT_FOR_USER,user:e})}static updatePendingPickList(e){n.default.handleViewAction({actionType:a.default.UPDATE_PENDING_PICK_LIST,pendingPickList:e})}static resetPendingPickList(){n.default.handleViewAction({actionType:a.default.RESET_PENDING_PICK_LIST})}static savePickList(){n.default.handleViewAction({actionType:a.default.SAVE_PICK_LIST})}static setPickList(e){n.default.handleViewAction({actionType:a.default.SET_PICK_LIST,pickList:e})}}},"4zfV":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("q1tI"),r=s("xteR"),l=s("22qP"),i=s("6ZS+"),c=s("iLxV");function o(e){return c.putJson("/admin/pause",{isPaused:e})}function u(e){return c.putJson("/admin/allowClock",{allowClock:e})}function d(e){return c.putJson("/admin/draftHasStarted",{draftHasStarted:e})}function m(e,t){return c.putJson("/admin/autoPickUsers",{userId:e,autoPick:t})}class p extends a.Component{constructor(e){super(e),this._onChange=(e=>{this.setState({password:e.target.value})}),this._onSubmit=(e=>{e.preventDefault(),this.setState({busy:!0}),c.postJson("/admin/login",{password:this.state.password}).then(()=>i.default.setIsAdmin(!0)).catch(()=>this.setState({busy:!1}))}),this.state={password:"",busy:!1}}render(){return a.createElement("section",null,a.createElement("form",{onSubmit:this._onSubmit},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"adminPassword"},"Password"),a.createElement("input",{type:"password",className:"form-control",id:"adminPassword",name:"password",onChange:this._onChange,value:this.state.password,disabled:this.state.busy})),a.createElement("button",{type:"submit",className:"btn btn-default",disabled:this.state.busy},"Submit")))}}t.default=class extends a.Component{constructor(e){super(e),this._toggleAllAutoPicks=(e=>{n.each(this.props.users,t=>{m(t._id,e)})}),this._onStartDraft=(()=>{d(!0)}),this._onUnstartDraft=(()=>{d(!1)}),this._onPause=(()=>{o(!0)}),this._onUnpause=(()=>{o(!1)}),this._onAllowClock=(()=>{u(!0)}),this._onStopClock=(()=>{u(!1)}),this._onUndoLastPick=(()=>{this.setState({confirmingUndo:!0})}),this._onConfirmUndoLastPick=(()=>{c.del("/admin/lastPick"),this._onCancelUndoLastPick()}),this._onCancelUndoLastPick=(()=>{this.setState({confirmingUndo:!1})}),this.state={confirmingUndo:!1}}render(){const e=this.props,t=this.state.confirmingUndo;if(!e.isAdmin)return a.createElement(p,null);const s=n.every(e.users,t=>!!e.autoPickUsers[t._id]);return a.createElement("section",null,a.createElement("h1",null,"Hello admin!"),e.draftHasStarted?a.createElement("h2",null,"Draft has started!"):a.createElement("h2",null,"Draft has not started yet"),a.createElement("div",{className:"panel"},a.createElement("div",{className:"panel-body"},a.createElement("button",{type:"button",className:"btn btn-default",onClick:this._onStartDraft},"Start Draft"),a.createElement("span",null," "),a.createElement("button",{type:"button",className:"btn btn-default",onClick:this._onUnstartDraft},"Unstart Draft"))),e.isPaused?a.createElement("h2",null,"Paused!"):a.createElement("h2",null,"Not Paused"),a.createElement("div",{className:"panel"},a.createElement("div",{className:"panel-body"},a.createElement("button",{type:"button",className:"btn btn-default",onClick:this._onPause},"Pause"),a.createElement("span",null," "),a.createElement("button",{type:"button",className:"btn btn-default",onClick:this._onUnpause},"Unpause"))),a.createElement("h2",null,"Auto picks"),a.createElement("div",{className:"panel"},a.createElement("div",{className:"panel-body"},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:s,onChange:this._toggleAllAutoPicks.bind(null,!s)})," Toggle All"),a.createElement("br",null),a.createElement("ul",{className:"list-unstyled"},n.map(e.users,t=>{const s=!!e.autoPickUsers[t._id];return a.createElement("li",{key:t._id},a.createElement("div",{className:"checkbox"},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:s,onChange:m.bind(null,t._id,!s)})," ",t.name)))})))),e.allowClock?a.createElement("h2",null,"Allowing clock"):a.createElement("h2",null,"Not allowing clock!"),a.createElement("div",{className:"panel"},a.createElement("div",{className:"panel-body"},a.createElement("button",{type:"button",className:"btn btn-default",onClick:this._onAllowClock},"Allow clock"),a.createElement("span",null," "),a.createElement("button",{type:"button",className:"btn btn-default",onClick:this._onStopClock},"Pause clock"))),a.createElement("div",{className:"panel"},a.createElement("div",{className:"panel-body"},t?null:a.createElement("button",{className:"btn btn-default",type:"button",onClick:this._onUndoLastPick},"Undo Pick"),t?a.createElement("span",null,a.createElement("label",null,"Are you sure you want to undo the last pick?"),a.createElement("button",{className:"btn btn-default",type:"button",onClick:this._onConfirmUndoLastPick},"I'm sure"),a.createElement("span",null," "),a.createElement("button",{className:"btn btn-default",type:"button",onClick:this._onCancelUndoLastPick},"Cancel")):null)),a.createElement("div",{className:"panel"},a.createElement("div",{className:"panel-body"},a.createElement("button",{className:"btn btn-default",onClick:this._forceRefresh},"Force Refresh"))),e.currentPick?a.createElement(l.default,{currentPick:e.currentPick}):null,a.createElement(r.default,{draftPicks:e.draftPicks}))}_forceRefresh(){c.put("/admin/forceRefresh")}}},"6ZS+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Et/P"),a=s("etM2");t.default=class{static setCurrentUser(e){n.default.handleViewAction({actionType:a.default.CURRENT_USER_CHANGE,currentUser:e})}static setCurrentUserSynced(){n.default.handleServerAction({actionType:a.default.CURRENT_USER_CHANGE_SYNCED})}static hydrateCurrentUser(e){n.default.handleServerAction({actionType:a.default.CURRENT_USER_CHANGE,currentUser:e,doNotSync:!0})}static setIsAdmin(e){n.default.handleServerAction({actionType:a.default.SET_IS_ADMIN,isAdmin:e})}static setActiveUsers(e){n.default.handleServerAction({actionType:a.default.SET_ACTIVE_USERS,activeUsers:e})}}},"6fkD":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("q1tI"),r=s("2wj6"),l=s("iLxV"),i="Sergio Garcia\nPhil Mickelson\nTiger Woods\nDustin Johnson\nJason Day\n...";class c extends a.Component{constructor(e){super(e),this._onSelectValueChange=(e=>{this.props.onSelectionChange(e.target.value)}),this._onViewAll=(e=>{e.preventDefault(),this.setState({isViewingAll:!0})}),this.state={isViewingAll:!this.props.hasGoodSuggestion}}render(){const e=this.props.suggestion,t=(this.props.hasGoodSuggestion,this.state.isViewingAll);return a.createElement("div",{key:e.source,className:"panel panel-default"},a.createElement("div",{className:"panel-body"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2"},a.createElement("p",null,a.createElement("em",null,"You entered:"))),a.createElement("div",{className:"col-md-10"},a.createElement("b",null,e.source))),t?this._renderChoices():this._renderSuggestion()))}_renderSuggestion(){const e=this.props.selectedValue;return a.createElement("section",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-2"},a.createElement("p",null,a.createElement("em",null,"Did you mean:"))),a.createElement("div",{className:"col-md-10"},a.createElement("b",null,e))),a.createElement("p",null,a.createElement("a",{href:"#",onClick:this._onViewAll},"Nope")))}_renderChoices(){const e=this.props.selectedValue,t=(this.props.disabled,this.props.hasGoodSuggestion),s=n.chain(this.props.suggestion.allResults).map("target").sortBy().value();return a.createElement("section",null,t?null:a.createElement("p",{className:"text-danger"},a.createElement("em",null,"Could not find a potential match.. Please select golfer from list:")),a.createElement("select",{className:"form-control",value:e,onChange:this._onSelectValueChange},n.map(s,(e,t)=>a.createElement("option",{key:e,value:e},e))))}}class o extends a.Component{constructor(e){super(e),this._onSave=(()=>{const e=n.map(this.props.suggestions,e=>this.state.selections[e.source]);this.props.onSave(e)});const t={};n.each(e.suggestions,e=>{"EXACT"===e.type?t[e.source]=e.source:t[e.source]=e.suggestion}),this.state={selections:t}}render(){const{suggestions:e,errorMessage:t,isPosting:s,onCancel:r}=this.props,{selections:l}=this.state;return a.createElement("div",null,a.createElement("div",{className:"text-right",style:{marginBottom:"1em"}},a.createElement("button",{className:"btn btn-default",type:"button",onClick:r,disabled:s},"Back")),t?a.createElement("div",{className:"alert alert-danger"},t):null,a.createElement("div",{className:"alert alert-warning"},"Could not find an exact name match for all golfers. Please verify the following matches are correct:"),n.map(e,e=>"EXACT"===e.type?null:a.createElement(c,{key:e.source,hasGoodSuggestion:e.isGoodSuggestion,disabled:s,suggestion:e,selectedValue:l[e.source],onSelectionChange:t=>this._onSuggestionSelectionChange(e.source,t)})),a.createElement("div",{className:"text-right"},a.createElement("button",{className:"btn btn-default",type:"button",onClick:r,disabled:s},"Back"),a.createElement("span",null," "),a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this._onSave,disabled:s},"Save")))}_onSuggestionSelectionChange(e,t){this.setState({selections:Object.assign({},this.state.selections,{[e]:t})})}}t.default=class extends a.Component{constructor(e){super(e),this._onSuggestionCancel=(()=>{this.setState({suggestions:null})}),this._onSaveSuggestions=(e=>{this._save(e)}),this._onSaveFreeText=(()=>{this._save(this._cleanedGolfers())}),this._onChange=(e=>{this.setState({text:e.target.value})}),this.state={text:"",isPosting:!1,suggestions:null,errorMessage:null}}render(){return this.state.suggestions?this._renderSuggestions():this._renderFreeText()}_renderSuggestions(){return a.createElement(o,{errorMessage:this.state.errorMessage,suggestions:this.state.suggestions,isPosting:this.state.isPosting,onCancel:this._onSuggestionCancel,onSave:this._onSaveSuggestions})}_renderFreeText(){const e=this.state.text,t=this.state.isPosting;return a.createElement("div",null,a.createElement("div",{className:"text-right"},this.props.onCancel?a.createElement("span",null,a.createElement("button",{className:"btn btn-default",type:"button",onClick:this.props.onCancel,disabled:t},"Cancel")," "):null,a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this._onSaveFreeText,disabled:t||n.isEmpty(e)},"Save")),a.createElement("p",null,"One golfer per line:"),a.createElement("textarea",{className:"form-control",placeholder:i,disabled:t,style:{width:"100%",height:"30em",resize:"vertical"},onChange:this._onChange,value:e}))}_setSuggestions(e){this.setState({isPosting:!1,suggestions:e})}_save(e){this.setState({isPosting:!0});const t={pickListNames:e};l.postJson("/draft/pickList",t).then(e=>{r.default.setPickList(e.pickList),this.props.onComplete()}).catch(e=>{const t=e.response;if(300===t.status)return t.json().then(e=>this._setSuggestions(e.suggestions));this.setState({isPosting:!1,errorMessage:"Failed to save pickList. Try again in a minute. If that doesn't work, contact Odle."}),window.location.href="#InlinePickListEditor"})}_cleanedGolfers(){return n.chain(this.state.text.split("\n")).map(e=>e.trim()).reject(n.isEmpty).uniq().value()}}},"6rvB":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("q1tI");t.default=class extends n.Component{render(){return n.createElement("div",{className:"jumbotron"},n.createElement("h1",null,"Pause!"),n.createElement("p",null,n.createElement("em",null,n.createElement("small",null,"noun")),n.createElement("ol",null,n.createElement("li",null,n.createElement("span",null,"a temporary stop in action or speech."),n.createElement("br",null),n.createElement("span",{className:"dict-definition"},'"she dropped me outside during a brief pause in the rain"',n.createElement("br",null),n.createElement("em",null,"synonyms:")," stop, cessation, break, halt, interruption, check, lull, respite, breathing space, discontinuation, hiatus, gap, interlude;")))),n.createElement("p",null,n.createElement("small",null,"verb"),n.createElement("ol",null,n.createElement("li",null,n.createElement("span",null,"interrupt action or speech briefly."),n.createElement("br",null),n.createElement("span",{className:"dict-definition"},'"she paused, at a loss for words"',n.createElement("br",null),n.createElement("em",null,"synonyms:")," stop, cease, halt, discontinue, break off, take a break;")))))}}},"7Thx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("q1tI"),r=s("6rvB"),l=s("rEyv"),i=s("y0Oq"),c=s("NBFb"),o=s("pYMN"),u=s("xteR"),d=s("0CtO"),m=s("22qP"),p=s("yY7+"),h=s("2re4"),f=s("eO8H"),E=new Audio(l.default.MY_TURN_SOUND),g=new Audio(l.default.PICK_MADE_SOUND);t.default=class extends a.Component{constructor(e){super(e),this._onDraftHistorySelectionChange=(e=>{this.setState({draftHistoryUserId:e})}),this.state={draftHistoryUserId:null}}componentWillReceiveProps(e){const t=this.props;!t.isMyDraftPick&&e.isMyDraftPick?E.play():t.draftPicks.length+1===e.draftPicks.length&&g.play()}_renderPreDraft(){return a.createElement("section",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"jumbotron"},a.createElement("h1",null,"Draft not started.")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("a",{id:"InlinePickListEditor"}),a.createElement(p.default,{heading:"Pick List Editor"},a.createElement(h.default,{preDraftMode:!0,golfersRemaining:this.props.golfersRemaining,syncedPickList:this.props.syncedPickList,pendingPickList:this.props.pendingPickList,height:"30em"})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(i.default,{currentUser:this.props.currentUser,messages:this.props.chatMessages,activeUsers:this.props.activeUsers}))))}_renderDraftComplete(){return a.createElement("section",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"jumbotron"},a.createElement("h1",null,"The draft is over!"),a.createElement("p",null,a.createElement(f.Link,{to:`/${this.props.tourneyId}`},"Check out the live leaderboard"))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(i.default,{currentUser:this.props.currentUser,messages:this.props.chatMessages,activeUsers:this.props.activeUsers}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(u.default,{draftPicks:this.props.draftPicks,selectedUserId:this.state.draftHistoryUserId,onSelectionChange:this._onDraftHistorySelectionChange}))))}render(){if(!this.props.draftHasStarted)return this._renderPreDraft();if(!this.props.currentPick)return this._renderDraftComplete();const e=this.props.isMyDraftPick,t=this.props.isPaused;let s=this.props.syncedPickList;null!==this.props.syncedPickList&&n.isEmpty(this.props.syncedPickList)&&(s=n.sortBy(this.props.golfersRemaining,e=>e.wgr,e=>e.name).map(e=>e._id));const l=null!==this.props.pendingPickList&&n.isEmpty(this.props.pendingPickList)?s:this.props.pendingPickList;return a.createElement("div",null,t?a.createElement(r.default,null):a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},e?a.createElement(c.default,{currentUser:this.props.currentUser,golfersRemaining:this.props.golfersRemaining,currentPick:this.props.currentPick,syncedPickList:this.props.syncedPickList}):a.createElement(p.default,{heading:"Draft Status"},a.createElement(m.default,{currentPick:this.props.currentPick}))),a.createElement("div",{className:"col-md-3"},a.createElement(o.default,{draftPicks:this.props.draftPicks,isMyPick:this.props.isMyDraftPick,allowClock:this.props.allowClock}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-4"},a.createElement(p.default,{heading:"Draft Order"},a.createElement(d.default,{pickOrder:this.props.pickOrder,currentUser:this.props.currentUser,currentPick:this.props.currentPick,pickingForUsers:this.props.pickingForUsers,autoPickUsers:this.props.autoPickUsers,onUserSelected:this._onDraftHistorySelectionChange}))),a.createElement("div",{className:"col-md-8"},a.createElement(p.default,{heading:"Pick List"},a.createElement(h.default,{golfersRemaining:this.props.golfersRemaining,syncedPickList:s,pendingPickList:l,height:"29em"})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(i.default,{currentUser:this.props.currentUser,messages:this.props.chatMessages,activeUsers:this.props.activeUsers}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(u.default,{draftPicks:this.props.draftPicks,selectedUserId:this.state.draftHistoryUserId,onSelectionChange:this._onDraftHistorySelectionChange}))))}}},"7oaT":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("YEsU"),r=s("2wj6"),l=s("dOWd"),i=s("miGi"),c=s("PjGT"),o=s("gFX4"),u=s("6ZS+");t.default=n.once(function(){const e=o.connect();e.on("change:draft",e=>{const t=l.default(e.data);r.default.draftUpdate(t)}),e.on("change:scores",e=>{i.default.scoreUpdate(e.data)}),e.on("change:chat",e=>{a.default.newMessage(e.data)}),e.on("change:appstate",e=>{c.default.setAppState(e.data.appState)}),e.on("change:activeusers",e=>{u.default.setActiveUsers(e.data.users)}),e.on("action:forcerefresh",e=>{window.location.reload()})})},"Am3/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("q1tI"),a=s("6ZS+"),r=s("dtw8");t.default=class extends n.Component{constructor(e){super(e),this._onClick=(e=>{e.preventDefault(),a.default.setCurrentUser(null),this.setState({redirectTo:"/whoisyou"})}),this.state=this._getInitialState()}_getInitialState(){return{redirectTo:null}}render(){const{redirectTo:e}=this.state;return e?n.createElement(r.Redirect,{to:e}):n.createElement("a",{href:"#noop",className:"logout-button",onClick:this._onClick},"I’m not ",this.props.currentUser.name)}}},DOUP:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("etM2"),r=s("Et/P"),l=s("YEsU"),i=s("0hMU"),c=s("Q0yC"),o=s("JbMJ"),u=s("iLxV");let d=null;const m=new class extends c.default{changeEvent(){return"ChatStore:change"}getMessages(){return d}};r.default.register(function(e){const t=e.action;switch(t.actionType){case a.default.CURRENT_USER_CHANGE_SYNCED:o.default.getCurrentUser()&&u.fetch("chat/messages").then(l.default.setMessages);break;case i.default.SET_MESSAGES:d=n.sortBy(t.messages,"date"),m.emitChange();break;case i.default.NEW_MESSAGE:d&&(d=d.concat([t.message]),m.emitChange());break;case i.default.CREATE_MESSAGE:u.postJson("/chat/messages",{message:t.message})}return!0}),t.default=m},"Et/P":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("cTkk"),a=s("LvDl").extend({},n.default.prototype,{handleViewAction:function(e){console.log("VIEW_ACTION: "+e.actionType),this.dispatch({source:"VIEW_ACTION",action:e})},handleServerAction:function(e){console.log("SERVER_ACTION: "+e.actionType),this.dispatch({source:"SERVER_ACTION",action:e})}});t.default=a},ExRb:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("wd/R"),r=s("q1tI"),l=s("y0Oq"),i=s("+VUm"),c=s("yY7+"),o=s("P0hV"),u=s("brYj"),d=s("G3tK"),m=s("NV6F"),p=s("nycN");i.default.NDAYS;t.default=class extends r.Component{constructor(e){super(e),this._onUserSelect=(e=>{window.location.href="#UserDetails",this.setState({userDetailsUser:e})}),this.state=this._getInitialState()}_getInitialState(){return e={},t=this.props,{userDetailsUser:e.userDetailsUser||t.currentUser._id};var e,t}renderCalculatingStandings(){return r.createElement("p",null,"Initializing tourney...")}render(){return this.props.tourneyStandings?r.createElement("section",null,r.createElement("p",null,r.createElement("small",null,"Scores sync every 10 minutes. Last sync: ",r.createElement("b",null,a(this.props.lastScoresUpdate).calendar()))),r.createElement(c.default,{heading:"Overall Standings"},r.createElement(m.default,{currentUser:this.props.currentUser,pickOrder:this.props.draft.pickOrder,tourneyStandings:this.props.tourneyStandings,selectedUser:this.state.userDetailsUser,onUserSelect:this._onUserSelect})),r.createElement("a",{id:"UserDetails"}),r.createElement(c.default,{heading:"Score Details"},r.createElement(d.default,{userId:this.state.userDetailsUser,tourneyStandings:this.props.tourneyStandings,draftPicks:this.props.draft.draftPicks})),this.props.tourneyStandings.worstScoresForDay.length?r.createElement(c.default,{heading:"Worst Scores of the Day"},r.createElement("ul",null,n.map(this.props.tourneyStandings.worstScoresForDay,e=>r.createElement("li",{key:e.day,className:"list-unstyled"},r.createElement("b",null,"Day ",e.day+1),": ",p.toGolferScoreStr(e.score),r.createElement("span",null," "),o.default.renderGolfer(u.default.getGolfer(e.golfer)))))):null,r.createElement(l.default,{currentUser:this.props.currentUser,messages:this.props.chatMessages,activeUsers:this.props.activeUsers})):this.renderCalculatingStandings()}}},G3tK:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("TSYQ"),r=s("q1tI"),l=s("nycN"),i=s("brYj"),c=s("JbMJ");t.default=class extends r.Component{render(){const e=this.props.tourneyStandings.currentDay,t=this.props.tourneyStandings.playerScores,s=this.props.userId,o=t[n.findIndex(t,e=>e.player===s)],u=n.chain(this.props.draftPicks).map(e=>e.golfer).invert().mapValues(Number).value(),d=n.chain(o.dayScores).flatMap(e=>e.golferScores).groupBy(e=>e.golfer).toPairs().sortBy(([e,t])=>u[e]).value(),m=n.map(d,([t,s],c)=>{const o=n.sumBy(s,e=>e.score);return r.createElement("tr",{key:t},r.createElement("td",null,i.default.getGolfer(t).name,r.createElement("small",null," (",l.getOrdinal(u[t]+1)," pick)")),r.createElement("td",null,l.toGolferScoreStr(o)),n.map(s,(t,s)=>r.createElement("td",{key:s,className:a({"missed-cut":t.missedCut,"score-used":t.scoreUsed})},l.toGolferScoreStr(t.score),r.createElement("sup",{className:"missed-cut-text"}," MC"),s!==e?null:r.createElement("sup",{className:"thru-text"}," ",l.toThruStr(t.thru)))))});return r.createElement("section",null,r.createElement("h2",null,c.default.getUser(s).name,r.createElement("span",null," "),"(",l.toGolferScoreStr(o.totalScore),")",r.createElement("small",null," ",l.getOrdinal(o.standing+1)," place ",o.isTied?"(Tie)":null)),r.createElement("table",{className:"table user-details-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Golfer"),r.createElement("th",null,"Score"),r.createElement("th",null,"Day 1"),r.createElement("th",null,"Day 2"),r.createElement("th",null,"Day 3"),r.createElement("th",null,"Day 4"))),r.createElement("tbody",null,m)))}}},H8bK:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("etM2"),r=s("Et/P"),l=s("Q0yC");let i=null;const c=new class extends l.default{changeEvent(){return"AppSettingsStore:change"}getIsPaused(){return i.isDraftPaused}getAllowClock(){return i.allowClock}getDraftHasStarted(){return i.draftHasStarted}getAutoPickUsers(){return i.autoPickUsers}};r.default.register(function(e){const t=e.action;switch(t.actionType){case a.default.SET_APP_STATE:i=n.extend({},t.appState,{autoPickUsers:n.keyBy(t.appState.autoPickUsers)}),c.emitChange()}return!0}),t.default=c},JbMJ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("etM2"),r=s("Et/P"),l=s("Q0yC"),i=s("6ZS+"),c=s("iLxV");let o=null,u=null,d=!1,m=null;const p=new class extends l.default{changeEvent(){return"UserStore:change"}getCurrentUser(){return u[o]}getUser(e){return u[e]}getUserByName(e){return n.find(u,{name:e})}isAdmin(){return d}getAll(){return u}getActive(){return m}};r.default.register(function(e){const t=e.action;switch(t.actionType){case a.default.SET_USERS:u=n.keyBy(t.users,"_id"),p.emitChange();break;case a.default.CURRENT_USER_CHANGE:(o=t.currentUser)||t.doNotSync?i.default.setCurrentUserSynced():c.post("/logout").then(function(){i.default.setCurrentUserSynced()}).catch(function(){window.location.reload()}),p.emitChange();break;case a.default.SET_IS_ADMIN:d=t.isAdmin,p.emitChange();break;case a.default.SET_ACTIVE_USERS:m=n.keyBy(t.activeUsers),p.emitChange()}return!0}),t.default=p},LeqY:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DRAFT_FOR_USER:"DRAFT_FOR_USER",DRAFT_PICK:"DRAFT_PICK",DRAFT_PICK_HIGHEST_PRI:"DRAFT_PICK_HIGHEST_PRI",DRAFT_UPDATE:"DRAFT_UPDATE",RESET_PENDING_PICK_LIST:"RESET_PENDING_PICK_LIST",SAVE_PICK_LIST:"SAVE_PICK_LIST",SET_PICK_LIST:"SET_PICK_LIST",STOP_DRAFT_FOR_USER:"STOP_DRAFT_FOR_USER",UPDATE_PENDING_PICK_LIST:"UPDATE_PENDING_PICK_LIST"}},NBFb:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("TSYQ"),r=s("q1tI"),l=s("nycN"),i=s("+VUm"),c=s("2wj6"),o=s("yY7+"),u=s("P0hV"),d=s("brYj"),m=s("JbMJ");function p(e){return e.currentUser._id!==e.currentPick.user}function h(e){return p(e)||!n.isEmpty(e.syncedPickList)}t.default=class extends r.Component{constructor(e){super(e),this._onChange=(e=>{this.setState({selectedGolfer:e.target.value})}),this._onProxyPickListPick=(e=>{e.preventDefault(),c.default.makePickListPick()}),this._onSubmit=(e=>{e.preventDefault(),c.default.makePick(this.state.selectedGolfer)}),this._onStopTakingPick=(e=>{e.preventDefault(),c.default.stopDraftingForUser(this.props.currentPick.user)}),this.state=this._getInitialState()}_getInitialState(){return this._getSelectionState(this.props)}componentWillReceiveProps(e){const t=this._getSelectionState(e);this.setState(t)}render(){if(this._isLoading())return this._renderLoading();const e=this.props.golfersRemaining,t=this.props.currentPick,s=this.state.sortKey,c=this._isProxyPick(),d=this._sortedGolfers(e,s),p=h(this.props);let f=null;if(c){const e=m.default.getUser(t.user).name;f=r.createElement("section",null,r.createElement("h4",null,"Make a pick for: ",e),r.createElement("p",null,r.createElement("a",{href:"#",onClick:this._onStopTakingPick},"I'll stop making picks for ",e)))}else f=r.createElement("h4",null,"It’s your turn! Make your pick.");return r.createElement(o.default,{heading:"Draft Picker"},f,r.createElement("div",{className:"btn-group",role:"group","aria-label":"Sorting choices"},r.createElement("label",null,"Sort users by:"),r.createElement("br",null),p?r.createElement("span",null,r.createElement("button",{type:"button",className:a({"btn btn-default":!0,active:"pickList"===s}),onClick:()=>this._setSortKey("pickList")},"Pick List")):null,r.createElement("button",{type:"button",className:a({"btn btn-default":!0,active:"name"===s}),onClick:()=>this._setSortKey("name")},"First Name"),r.createElement("button",{type:"button",className:a({"btn btn-default":!0,active:"wgr"===s}),onClick:()=>this._setSortKey("wgr")},"World Golf Ranking")),r.createElement("form",{role:"form"},c&&"pickList"===s?r.createElement("div",{style:{marginTop:"1em"}},r.createElement("small",null,r.createElement("b",null,"Selects the next player from the pick list. If no pick list is set, select the ",l.getOrdinal(i.default.ABSENT_PICK_NTH_BEST_WGR)," best WGR.")),r.createElement("br",null),r.createElement("button",{className:"btn btn-default btn-primary",onClick:this._onProxyPickListPick},"Pick")):r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"golfersRemaining"},"Select your golfer:"),r.createElement("select",{id:"golfersRemaining",value:this.state.selectedGolfer,onChange:this._onChange,size:10,className:"form-control"},n.map(d,e=>r.createElement("option",{key:e._id,value:e._id},u.default.renderGolfer(e))))),r.createElement("button",{className:"btn btn-default btn-primary",onClick:this._onSubmit},"Pick"))))}_renderLoading(){return r.createElement(o.default,{heading:"Draft Picker"},r.createElement("span",null,"Loading..."))}_isLoading(){return!n.isArray(this.props.syncedPickList)}_isProxyPick(){return p(this.props)}_sortedGolfers(e,t){const s=this._isProxyPick();return"pickList"===t?s?null:n.chain(this.props.syncedPickList).map(d.default.getGolfer).value():n.sortBy(e,[t,"name"])}_getSelectionState(e){const t=this.state||{},s=e.golfersRemaining;let a=t.sortKey,r=t.selectedGolfer;if(a&&"pickList"!==a||(a=h(e)?"pickList":"wgr"),!r||!s[r]){const e=n.first(this._sortedGolfers(s,a));r=e?e._id:null}return{selectedGolfer:r,sortKey:a}}_setSortKey(e){if(e===this.state.sortKey)return;const t=this.props.golfersRemaining,s=n.first(this._sortedGolfers(t,e)),a=s?s._id:null;this.setState({sortKey:e,selectedGolfer:a})}}},NV6F:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("TSYQ"),r=s("q1tI"),l=s("nycN"),i=s("+VUm"),c=s("JbMJ");t.default=class extends r.Component{constructor(){super(...arguments),this._onUserSelect=(e=>{this.props.onUserSelect(e)})}render(){const e=this.props.tourneyStandings,t=(e.playerScores[0].totalScore,n.map(e.playerScores,(t,s)=>{const o=c.default.getUser(t.player),u=this.props.currentUser._id===o._id,d=this.props.selectedUser===o._id,m=n.partial(this._onUserSelect,o._id),p=n.sumBy(t.dayScores[e.currentDay].golferScores,e=>e.missedCut?0:null===e.thru?i.default.NHOLES:i.default.NHOLES-e.thru),h=n.findIndex(this.props.pickOrder,e=>e.user===t.player);return r.createElement("tr",{key:o._id,className:a({"selected-user-row":d}),onClick:m},r.createElement("td",null,t.standing+1),r.createElement("td",null,u?r.createElement("b",null,o.name):o.name),r.createElement("td",null,l.toGolferScoreStr(t.totalScore)),r.createElement("td",null,h+1),r.createElement("td",{className:"hidden-xs"},p>0?p:"F"),n.map(t.dayScores,e=>r.createElement("td",{className:"hidden-xs",key:e.day},l.toGolferScoreStr(e.totalScore))),r.createElement("td",{className:"visible-xs"},r.createElement("a",{href:"#UserDetails",onClick:m},"Details")))}));return r.createElement("section",null,r.createElement("p",null,r.createElement("small",null,r.createElement("b",null,"Tip:")," Click on a user row to view score details")),r.createElement("table",{className:"table standings-table table-hover"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Pool User"),r.createElement("th",null,"Total"),r.createElement("th",null,"Pick Number"),r.createElement("th",{className:"hidden-xs"},"Holes Left Today"),r.createElement("th",{className:"hidden-xs"},"Day 1"),r.createElement("th",{className:"hidden-xs"},"Day 2"),r.createElement("th",{className:"hidden-xs"},"Day 3"),r.createElement("th",{className:"hidden-xs"},"Day 4"),r.createElement("th",{className:"visible-xs"}))),r.createElement("tbody",null,t)))}}},P0hV:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("+VUm").default.UNKNOWN_WGR;t.default=class{static renderGolfer(e){const t=e.wgr===n?"":" (WGR: "+e.wgr+")";return e.name+t}}},PjGT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Et/P"),a=s("etM2");t.default=class{static setAppState(e){n.default.handleViewAction({actionType:a.default.SET_APP_STATE,appState:e})}}},Q0yC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("+qE3");t.default=class extends n.EventEmitter{changeEvent(){throw Error("Not implemented")}emitChange(){this.emit(this.changeEvent())}addChangeListener(e){this.on(this.changeEvent(),e)}removeChangeListener(e){this.removeListener(this.changeEvent(),e)}}},Q1Vv:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("Et/P"),r=s("UBPl"),l=s("Q0yC");let i=null,c=null;const o=new class extends l.default{changeEvent(){return"ScoreStore:change"}getTourneyStandings(){return i}getLastUpdated(){return c}};a.default.register(e=>{const t=e.action;switch(t.actionType){case r.default.SCORE_UPDATE:const e=t.tourneyStandings,s=Object.assign({},e,{worstScoresForDay:n.chain(e.worstScoresForDay).sortBy(e=>e.day).takeWhile(e=>0!=e.score).value(),playerScores:n.sortBy(e.playerScores,e=>e.totalScore)});i=s,c=t.lastUpdated,o.emitChange()}return!0}),t.default=o},RnhZ:function(e,t,s){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=r(e);return s(t)}function r(e){var t=n[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="RnhZ"},UBPl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SCORE_UPDATE:"SCORE_UPDATE"}},VwHS:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s("+eM2"),s("fxB9"),s("0blL");const n=s("y7Mo"),a=s("q1tI"),r=s("i8i4"),l=s("eO8H"),i=s("ymmh"),c=s("7oaT");const o=document.getElementById("golfdraftapp");var u;null===o?console.log("root node not found! golfdraftapp"):(u=o,i.default(),c.default(),r.render(a.createElement(l.BrowserRouter,null,a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-offset-1 col-md-10"},a.createElement(l.Route,{component:n.default,path:"/"}))))),u))},WUtO:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Q0yC"),a=s("etM2"),r=s("Et/P"),l=s("LvDl");let i=null,c=null,o=null;const u=new class extends n.default{changeEvent(){return"TourneyStore:change"}getActiveTourneyId(){return i}getTourneyName(){return c}getAllTourneys(){return o}};r.default.register(function(e){const t=e.action;switch(t.actionType){case a.default.SET_ACTIVE_TOURNEY_ID:i=t.activeTourneyId,u.emitChange();break;case a.default.SET_TOURNEY_NAME:c=t.tourneyName,u.emitChange();break;case a.default.SET_ALL_TOURNEYS:o=l.keyBy(t.allTourneys,e=>e._id),u.emitChange()}return!0}),t.default=u},WYty:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("q1tI"),a=s("LvDl");t.TourneyHistory=class extends n.Component{constructor(e){super(e),this.state={}}render(){const e=a.sortBy(this.props.allTourneys,e=>e.startDate);return n.createElement("section",null,n.createElement("h1",null,"Tourney history"),n.createElement("ol",null,e.map(e=>n.createElement("li",{key:e._id},n.createElement("a",{href:`/${e._id}`},e.name," - ",JSON.stringify(e))))))}}},XAbQ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("Et/P"),r=s("etM2"),l=s("LeqY"),i=s("Q0yC"),c=s("JbMJ"),o=s("iLxV");let u=[],d=[],m=[],p=null,h=null;function f(){const e=u.length;return e===d.length?null:{user:d[e].user,pickNumber:e}}function E(){const e=n.map(u,"golfer");p!==h?(p=n.difference(p,e),h=n.difference(h,e)):(p=n.difference(p,e),h=p)}const g=new class extends i.default{changeEvent(){return"DraftStore:change"}getCurrentPick(){return f()}getDraftPicks(){return u}getPickOrder(){return d}getIsMyDraftPick(){const e=f(),t=c.default.getCurrentUser();return!(!e||!t)&&(e.user===t._id||n.includes(m,e.user))}getPickingForUsers(){return m}getPickList(){return p}getPendingPickList(){return h}};a.default.register(function(e){const t=e.action;switch(t.actionType){case l.default.DRAFT_PICK:const e=function(e){const t=new Date,s=n.extend({},f(),{golfer:e,timestamp:t,clientTimestamp:t});return u.push(s),s}(t.golfer);E(),o.postJson("/draft/picks",e).catch(function(){window.location.reload()}),g.emitChange();break;case l.default.DRAFT_PICK_HIGHEST_PRI:const s=f();o.postJson("/draft/pickPickListGolfer",s).catch(function(){window.location.reload()});break;case l.default.DRAFT_UPDATE:const a=t.draft;u=a.picks,d=a.pickOrder,E(),g.emitChange();break;case l.default.DRAFT_FOR_USER:m=n.uniq(m.concat([t.user])),g.emitChange();break;case l.default.STOP_DRAFT_FOR_USER:m=n.without(m,t.user),g.emitChange();break;case r.default.CURRENT_USER_CHANGE:p=null,h=null,g.emitChange();break;case r.default.CURRENT_USER_CHANGE_SYNCED:const i=c.default.getCurrentUser();i&&o.fetch("/draft/pickList").then(function(e){e.userId===i._id&&(p=e.pickList,h=p,E(),g.emitChange())});break;case l.default.UPDATE_PENDING_PICK_LIST:h=t.pendingPickList,g.emitChange();break;case l.default.RESET_PENDING_PICK_LIST:h=p,g.emitChange();break;case l.default.SAVE_PICK_LIST:const _={pickList:p=h};o.postJson("/draft/pickList",_).catch(function(){window.location.reload()}),g.emitChange();break;case l.default.SET_PICK_LIST:p=t.pickList,h=p,g.emitChange()}return!0}),t.default=g},YEsU:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Et/P"),a=s("0hMU");t.default=class{static setMessages(e){n.default.handleServerAction({actionType:a.default.SET_MESSAGES,messages:e})}static newMessage(e){n.default.handleServerAction({actionType:a.default.NEW_MESSAGE,message:e})}static createMessage(e){n.default.handleViewAction({actionType:a.default.CREATE_MESSAGE,message:e})}}},bFt2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Et/P"),a=s("etM2");t.default=class{static setActiveTourneyId(e){n.default.handleViewAction({actionType:a.default.SET_ACTIVE_TOURNEY_ID,activeTourneyId:e})}static setGolfers(e){n.default.handleViewAction({actionType:a.default.SET_GOLFERS,golfers:e})}static setUsers(e){n.default.handleViewAction({actionType:a.default.SET_USERS,users:e})}static setTourneyName(e){n.default.handleViewAction({actionType:a.default.SET_TOURNEY_NAME,tourneyName:e})}static setAllTourneys(e){n.default.handleViewAction({actionType:a.default.SET_ALL_TOURNEYS,allTourneys:e})}}},brYj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("etM2"),r=s("Et/P"),l=s("Q0yC");let i=null;const c=new class extends l.default{changeEvent(){return"GolferStore:change"}getAll(){return i}getGolfer(e){return i[e]}};r.default.register(function(e){const t=e.action;switch(t.actionType){case a.default.SET_GOLFERS:i=n.keyBy(t.golfers,"_id"),c.emitChange()}return!0}),t.default=c},cTkk:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=[];let r=[];const l=function(){r=[]},i=function(){};i.prototype=n.extend({},i.prototype,{register:function(e){return a.push(e),a.length-1},dispatch:function(e){a.forEach(function(t){!function(e,t){r.push(new Promise(function(s,n){e(t)?s(t):n(new Error("Dispatcher callback unsuccessful"))}))}(t,e)}),Promise.all(r).then(l)},waitFor:function(e,t){const s=r.filter(function(t,s){return-1!==e.indexOf(s)});Promise.all(s).then(t)}}),t.default=i},dOWd:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl");t.default=function(e){const t=new Date,s=e.serverTimestamp=new Date(e.serverTimestamp);return n.each(e.picks,function(e){const n=e.timestamp=new Date(e.timestamp);e.clientTimestamp=new Date(n.getTime()-(s.getTime()-t.getTime()))}),e}},etM2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CURRENT_USER_CHANGE:"CURRENT_USER_CHANGE",CURRENT_USER_CHANGE_SYNCED:"CURRENT_USER_CHANGE_SYNCED",SET_ACTIVE_USERS:"SET_ACTIVE_USERS",SET_APP_STATE:"SET_APP_STATE",SET_GOLFERS:"SET_GOLFERS",SET_IS_ADMIN:"SET_IS_ADMIN",SET_TOURNEY_NAME:"SET_TOURNEY_NAME",SET_USERS:"SET_USERS",SET_ALL_TOURNEYS:"SET_ALL_TOURNEYS",SET_ACTIVE_TOURNEY_ID:"SET_ACTIVE_TOURNEY_ID"}},iLxV:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s("bZMm");const n=s("LvDl");function a(e){if(e.ok)return e;const t=new Error(e.statusText);throw t.response=e,t}function r(e,t){return window.fetch(e,function(e){return n.extend({credentials:"same-origin"},e)}(t)).then(a).then(e=>{if(!e.json)return null;try{return e.json().catch(e=>(console.debug(e),null))}catch(e){return console.debug(e),null}})}function l(e,t){return r(e,t)}t.fetch=l,t.del=function(e){return l(e,{method:"DELETE"})},t.post=function(e){return l(e,{method:"POST"})},t.postJson=function(e,t){return l(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},t.put=function(e){return l(e,{method:"PUT"})},t.putJson=function(e,t){return l(e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},miGi:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("Et/P"),a=s("UBPl");t.default=class{static scoreUpdate(e){n.default.handleViewAction({actionType:a.default.SCORE_UPDATE,tourneyStandings:e.tourneyStandings,lastUpdated:e.lastUpdated})}}},nycN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("+VUm");function r(e,t){return e.toString()===t.toString()}n.mixin({lock:function(e){return function(){return e()}}}),t.getOrdinal=function(e){const t=["th","st","nd","rd"],s=e%100;return e+(t[(s-20)%10]||t[s]||t[0])},t.toGolferScoreStr=function(e){return 0===e?"E":e>0?"+"+e:""+e},t.toThruStr=function(e){return null===e?"NS":e===a.default.NHOLES?"F":"thru "+e},t.oidsAreEqual=r,t.containsObjectId=function(e,t){return n.some(e,n.partial(r,t))}},pYMN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("rEyv"),r=s("wd/R"),l=s("q1tI"),i=s("yY7+"),c=1e3,o=12e4,u=18e4,d=15e3,m=10,p=new Audio(a.default.PICK_WARNING_SOUND);t.default=class extends l.Component{constructor(e){super(e),this.state=this._getInitialState()}_getInitialState(){return n.extend({intervalId:null},this._getTotalMillis())}componentDidMount(){const e=window.setInterval(()=>{this.setState(this._getTotalMillis())},c);this.setState({intervalId:e})}componentWillUnmount(){this.state.intervalId&&(window.clearInterval(this.state.intervalId),this.setState({intervalId:null}))}componentWillReceiveProps(e){this.setState(this._getTotalMillis(e))}componentDidUpdate(e,t){const s=this._getDisplayTime(t)!==this._getDisplayTime(),n=this.props.isMyPick,a=this.state.totalMillis;s&&n&&a&&!(a<o)&&(a+d>=u?p.play():r.utc(a).seconds()%m==0&&p.play())}render(){let e=null;const t=this.state.totalMillis||0;let s="";t>u?s="text-danger":t>o&&(s="text-warning");const n=this._getDisplayTime();return e=l.createElement("p",{className:"draft-clock"},l.createElement("b",{className:s},n)),l.createElement(i.default,{heading:"Draft Clock"},e)}_getDisplayTime(e){if(null===(e=e||this.state).totalMillis)return"NS";const t=e.totalMillis||0;return r.utc(t).format("mm:ss")}_getTotalMillis(e){if(e=e||this.props,n.isEmpty(e.draftPicks)||!this.props.allowClock)return{totalMillis:null};const t=n.last(e.draftPicks),s=new Date;return{totalMillis:Math.max(0,s.getTime()-t.clientTimestamp.getTime())}}}},rEyv:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=window.golfDraftSeed.CDN_URL;t.default={MY_TURN_SOUND:n+"/assets/airplane_chime.wav",PICK_MADE_SOUND:n+"/assets/bleep1.wav",NEW_CHAT_MESSAGE_SOUND:n+"/assets/tone1.wav",PICK_WARNING_SOUND:n+"/assets/bleep1.wav"}},rN7x:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("q1tI"),a=s("Am3/");t.default=class extends n.Component{render(){return n.createElement("div",{className:"page-header draft-page-header"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col col-md-6"},n.createElement("h1",null,"Welcome to the Pool Party",n.createElement("br",null),n.createElement("small",null,this.props.tourneyName))),n.createElement("div",{className:"col col-md-6"},n.createElement("h1",{style:{textAlign:"right"}},n.createElement("small",null,this.props.currentUser.name),n.createElement("br",null),n.createElement("span",{className:"logout-button"},n.createElement(a.default,{currentUser:this.props.currentUser}))))))}}},xsfh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("q1tI"),r=s("6ZS+"),l=s("JbMJ"),i=s("eO8H"),c=s("iLxV");function o(){return n.sortBy(l.default.getAll(),"name")}t.default=class extends a.Component{constructor(e){super(e),this._onPasswordChange=(e=>{this.setState({password:e.target.value})}),this._onUserChange=(e=>{this.setState({selectedUser:e.target.value})}),this._onSubmit=(e=>{e.preventDefault(),this.setState({isLoading:!0,badAuth:!1}),c.postJson("/login",{username:l.default.getUser(this.state.selectedUser).username,password:this.state.password}).then(()=>{r.default.setCurrentUser(this.state.selectedUser);const e=this.props.location.state,t=e&&e.from||"/";this.setState({redirectTo:t})}).catch(()=>{this.setState({isLoading:!1,badAuth:!0,password:""}),this.refs.passwordInput.focus()})});const t=o()[0]._id;this.state={selectedUser:t,isLoading:!1,password:"",badAuth:!1,redirectTo:null}}componentDidMount(){this.refs.userSelect.focus()}render(){const{badAuth:e,isLoading:t,selectedUser:s,redirectTo:r,password:l}=this.state;if(r)return a.createElement(i.Redirect,{to:r});const c=t||n.isEmpty(l);return a.createElement("div",null,a.createElement("h2",null,"Who is you?"),e?a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid password. Try again."):null,a.createElement("div",{className:"panel panel-default"},a.createElement("div",{className:"panel-body"},a.createElement("form",{role:"form"},a.createElement("div",{className:"form-group"},a.createElement("select",{ref:"userSelect",id:"userSelect",value:this.state.selectedUser,onChange:this._onUserChange,size:15,className:"form-control"},n.map(o(),e=>a.createElement("option",{key:e._id,value:e._id},e.name)))),a.createElement("div",{className:"form-group"+(e?" has-error":"")},a.createElement("input",{ref:"passwordInput",type:"password",placeholder:"Password",className:"form-control",onChange:this._onPasswordChange,disabled:t,value:l})),a.createElement("button",{className:"btn btn-default btn-primary",onClick:this._onSubmit,disabled:c},"Sign in")))))}}},xteR:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("P0hV"),a=s("brYj"),r=s("q1tI"),l=s("JbMJ"),i=s("LvDl"),c=s("yY7+");t.default=class extends r.Component{constructor(){super(...arguments),this._onPersonClick=(e=>{this.props.onSelectionChange(e)}),this._onDeselectPerson=(()=>{this.props.onSelectionChange(null)})}render(){const e=this.props.selectedUserId,t=this.props.onSelectionChange?this._onPersonClick:null;let s,o=i.clone(this.props.draftPicks).reverse();return s="Draft History",e&&(o=i.filter(o,{user:e}),s=r.createElement("span",null,r.createElement("a",{href:"#DraftHistory",onClick:this._onDeselectPerson},"Draft History"),r.createElement("span",null," - "),l.default.getUser(e).name)),r.createElement("div",null,r.createElement("a",{id:"DraftHistory"}),r.createElement(c.default,{heading:s},e?r.createElement("p",null,r.createElement("small",null,r.createElement("b",null,"Tip:"),' click "Draft History" (above) to view all picks again')):null,r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Pool User"),r.createElement("th",null,"Golfer"))),r.createElement("tbody",null,i.map(o,s=>{const c=l.default.getUser(s.user).name;return r.createElement("tr",{key:s.pickNumber},r.createElement("td",null,s.pickNumber+1),r.createElement("td",null,e?c:r.createElement("a",{href:"#DraftHistory",onClick:t?i.partial(t,s.user):null},c)),r.createElement("td",null,n.default.renderGolfer(a.default.getGolfer(s.golfer))))})))))}}},y0Oq:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("wd/R"),r=s("q1tI"),l=s("rEyv"),i=s("YEsU"),c=s("yY7+"),o=s("JbMJ"),u="DraftBot",d=/@[a-z]* *[a-z]*$/i,m=/~\[([^\]]+)\]/gi,p="~[{{name}}]",h=13,f=40,E=38,g=new Audio(l.default.NEW_CHAT_MESSAGE_SOUND);class _ extends r.PureComponent{constructor(e){super(e),this._onChange=(e=>{this.setState({selectedIndex:e.currentTarget.selectedIndex})}),this._onClick=(e=>{this.forceSelect()}),this._onKeyUp=(e=>{e.keyCode===h&&this.forceSelect()}),this.state={selectedIndex:0}}componentWillUpdate(e,t){const s=this.state.selectedIndex;if(s!==t.selectedIndex)return;const a=this._getChoices(),r=this._getChoices(e);(n.isEmpty(a)||n.isEmpty(r)||!r[s]||a[s]._id!==r[s]._id)&&this.setState({selectedIndex:0})}render(){const e=this._getChoices();if(n.isEmpty(e))return null;const t=e[this.state.selectedIndex].name;return r.createElement("form",null,r.createElement("select",{ref:"autocomplete",className:"form-control",size:3,value:t,onChange:this._onChange,onClick:this._onClick,onKeyUp:this._onKeyUp},n.map(e,function(e){return r.createElement("option",{key:e._id,value:e.name},e.name)})))}forceSelect(){const e=this._getChoices();this.props.onChoose({value:e[this.state.selectedIndex].name})}forceDown(){this._move(1)}forceUp(){this._move(-1)}_move(e){const t=this._getChoices(),s=this.state.selectedIndex+e;s<0||s>=t.length||this.setState({selectedIndex:s})}_getChoices(e){const t=(e=e||this.props).text.toLowerCase();return n.chain(e.allChoices).filter(function(e){return e.name.toLowerCase().startsWith(t)}).value()}}class y extends r.PureComponent{constructor(e){super(e),this._onKeyUp=(e=>{this.state.taggingText&&(e.keyCode===E?(this._getNameTagger().forceUp(),e.preventDefault()):e.keyCode===f&&(this._getNameTagger().forceDown(),e.preventDefault()))}),this._onUpdateText=(e=>{const t=e.target.value;this.setState({text:t,taggingText:t.match(d)})}),this._onTag=(e=>{const t=this.state.text.replace(d,"~["+e.value+"] ");this.setState({text:t,taggingText:null}),this._focus()}),this._onSend=(e=>{if(e.preventDefault(),this.state.taggingText)return void this._getNameTagger().forceSelect();const t=this.state.text;n.isEmpty(t)||(i.default.createMessage(t),this.setState({text:"",taggingText:null}),this._focus())}),this.state={text:"",taggingText:null}}render(){const e=this.state.text,t=this.state.taggingText;return r.createElement("div",null,r.createElement("form",{onSubmit:this._onSend},r.createElement("div",{className:"form-group"},r.createElement("input",{ref:"input",className:"form-control",value:e,onChange:this._onUpdateText,onKeyUp:this._onKeyUp}),t?r.createElement(_,{ref:"nameTagger",allChoices:n.sortBy(o.default.getAll(),"name"),text:t[0].substr(1),onChoose:this._onTag}):null,r.createElement("button",{type:"submit",className:"btn btn-default"},"Send"))))}_focus(){this.refs.input.focus()}_getNameTagger(){return this.refs.nameTagger}}class S extends r.PureComponent{render(){const e=n.escape(this.props.text).replace(m,function(e,t){const s=o.default.getUserByName(t);return s?'<span class="user-tag label label-default">'+s.name+"</span>":e});return r.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}}t.default=class extends r.PureComponent{componentDidMount(){this._forceScroll()}componentDidUpdate(e){if(!e.messages)return void(this.props.messages&&this._forceScroll());const t=e.messages?e.messages.length:0,s=this.props.messages?this.props.messages.length:0;if(s>t){const e=p.replace("{{name}}",this.props.currentUser.name),a=this.props.messages.slice(t,s);n.some(a,t=>t.message.includes(e))&&g.play(),this._forceScroll()}}render(){const e=this.props.messages;let t=null;return t=e?n.isEmpty(e)?r.createElement("span",null,"No messages. Be the first! Speak your mind."):r.createElement("dl",{className:"chat-list dl-horizontal"},n.map(e,function(e,t){const s=e.isBot?u:o.default.getUser(e.user).name,n=e.isBot?"bot-message":"";return[r.createElement("dt",{key:"dt"+t,className:n},s," ",r.createElement("span",{className:"message-date"},"(",a(e.date).calendar(),")"),":"),r.createElement("dd",{key:"dd"+t,className:n},r.createElement(S,{text:e.message}))]})):r.createElement("span",null,"Loading..."),r.createElement(c.default,{heading:"Chat Room"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-9"},r.createElement("div",{className:"panel panel-default chat-panel",ref:"chatPanel"},r.createElement("div",{className:"panel-body",ref:"chatPanelBody"},t)),e?r.createElement(y,null):null),r.createElement("div",{className:"col-md-3"},r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-body"},r.createElement("b",null,"Online:"),r.createElement("ul",{className:"list-unstyled"},n.chain(this.props.activeUsers).map((e,t)=>o.default.getUser(t).name).sort().map(e=>r.createElement("li",{key:e},e)).value()))))))}_forceScroll(){const e=this.refs;e.chatPanel.scrollTop=e.chatPanelBody.offsetHeight}}},y7Mo:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("q1tI"),r=s("4zfV"),l=s("rN7x"),i=s("H8bK"),c=s("DOUP"),o=s("7Thx"),u=s("XAbQ"),d=s("brYj"),m=s("Q1Vv"),p=s("ExRb"),h=s("WUtO"),f=s("JbMJ"),E=s("xsfh"),g=s("eO8H"),_=s("+VUm"),y=s("WYty"),S=[i.default,c.default,u.default,m.default,f.default];function k(){return{activeTourneyId:h.default.getActiveTourneyId(),allTourneys:h.default.getAllTourneys(),tourneyName:h.default.getTourneyName(),currentUser:f.default.getCurrentUser(),activeUsers:f.default.getActive(),golfers:d.default.getAll(),users:f.default.getAll(),draft:{pickOrder:u.default.getPickOrder(),isMyDraftPick:u.default.getIsMyDraftPick(),currentPick:u.default.getCurrentPick(),draftPicks:u.default.getDraftPicks(),pickingForUsers:u.default.getPickingForUsers(),syncedPickList:u.default.getPickList(),pendingPickList:u.default.getPendingPickList()},tourneyStandings:m.default.getTourneyStandings(),lastScoresUpdate:m.default.getLastUpdated(),chatMessages:c.default.getMessages(),isAdmin:f.default.isAdmin(),isPaused:i.default.getIsPaused(),allowClock:i.default.getAllowClock(),draftHasStarted:i.default.getDraftHasStarted(),autoPickUsers:i.default.getAutoPickUsers()}}class P extends a.Component{render(){const e=this.props;return a.createElement("section",null,a.createElement(l.default,{tourneyName:e.tourneyName,currentUser:e.currentUser,drafting:!0}),a.createElement(o.default,{currentUser:e.currentUser,currentPick:e.draft.currentPick,isMyDraftPick:e.draft.isMyDraftPick,draftPicks:e.draft.draftPicks,chatMessages:e.chatMessages,isPaused:e.isPaused,golfersRemaining:e.golfersRemaining,pickingForUsers:e.draft.pickingForUsers,pickOrder:e.draft.pickOrder,activeUsers:e.activeUsers,allowClock:e.allowClock,syncedPickList:e.draft.syncedPickList,pendingPickList:e.draft.pendingPickList,draftHasStarted:e.draftHasStarted,autoPickUsers:e.autoPickUsers,tourneyId:e.match.params.tourneyId}))}}class b extends a.Component{render(){const e=this.props;return a.createElement("section",null,a.createElement(l.default,{tourneyName:e.tourneyName,currentUser:e.currentUser}),a.createElement(p.default,{currentUser:e.currentUser,tourneyStandings:e.tourneyStandings,draft:e.draft,lastScoresUpdate:e.lastScoresUpdate,chatMessages:e.chatMessages,activeUsers:e.activeUsers}))}}class v extends a.Component{render(){return a.createElement(y.TourneyHistory,{activeTourneyId:this.props.activeTourneyId,allTourneys:this.props.allTourneys})}}class C extends a.Component{render(){const e=this.props;return a.createElement("section",null,a.createElement(l.default,{tourneyName:e.tourneyName,currentUser:e.currentUser}),a.createElement(r.default,{isAdmin:e.isAdmin,currentPick:e.draft.currentPick,draftPicks:e.draft.draftPicks,isPaused:e.isPaused,allowClock:e.allowClock,draftHasStarted:e.draftHasStarted,users:e.users,autoPickUsers:e.autoPickUsers}))}}t.default=class extends a.Component{constructor(e){super(e),this._onChange=(()=>{this.setState(k())}),this.state=this._getInitialState()}_getInitialState(){return k()}componentDidMount(){S.forEach(e=>{e.addChangeListener(this._onChange)})}componentWillUnmount(){S.forEach(e=>{e.removeChangeListener(this._onChange)})}_requireCurrentUser(e){if(!this.state.currentUser)return a.createElement(g.Redirect,{to:{pathname:"/whoisyou",state:{from:e}}})}_requireDraftComplete(e){if(this.state.draft.currentPick)return a.createElement(g.Redirect,{to:{pathname:"draft",state:{from:e}}})}render(){const e=this.state,t=function(e,t){const s=t.map(e=>e.golfer);return n.omit(e,s)}(e.golfers,e.draft.draftPicks);return a.createElement(g.Switch,null,a.createElement(g.Route,{exact:!0,path:`/${_.default.TOURNEY_ID_PARAM}/draft`,render:s=>this._requireCurrentUser(s.location.pathname)||a.createElement(P,Object.assign({},s,e,{golfersRemaining:t}))}),a.createElement(g.Route,{exact:!0,path:"/whoisyou",render:s=>a.createElement(E.default,Object.assign({},s,e,{golfersRemaining:t}))}),a.createElement(g.Route,{exact:!0,path:"/admin",render:s=>a.createElement(C,Object.assign({},s,e,{golfersRemaining:t}))}),a.createElement(g.Route,{exact:!0,path:"/history",render:t=>a.createElement(v,Object.assign({},t,e))}),a.createElement(g.Route,{exact:!0,path:`/${_.default.TOURNEY_ID_PARAM}`,render:s=>this._requireCurrentUser(s.location.pathname)||this._requireDraftComplete(s.location)||a.createElement(b,Object.assign({},s,e,{golfersRemaining:t}))}))}}},"yY7+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("q1tI");t.default=class extends n.Component{render(){return n.createElement("div",{className:"panel panel-default golfdraft-panel",style:{height:this.props.height||"100%"}},this.props.heading?n.createElement("div",{className:"panel-heading"},n.createElement("h3",{className:"panel-title"},this.props.heading)):null,n.createElement("div",{className:"panel-body"},this.props.children))}}},ymmh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s("LvDl"),a=s("bFt2"),r=s("2wj6"),l=s("dOWd"),i=s("miGi"),c=s("PjGT"),o=s("6ZS+");t.default=n.once(()=>{!function(e){const t=l.default(e.draft);a.default.setUsers(e.users),a.default.setGolfers(e.golfers),r.default.draftUpdate(t),i.default.scoreUpdate({tourneyStandings:e.tourneyStandings,lastUpdated:e.tourney.lastUpdated}),c.default.setAppState(e.appState),a.default.setActiveTourneyId(e.activeTourneyId),a.default.setTourneyName(e.tourney.name),a.default.setAllTourneys(e.allTourneys),e.user&&o.default.hydrateCurrentUser(e.user._id)}(window.golfDraftSeed)})}},[["VwHS",1,2]]]);